{% extends 'base.html' %}

{% block title %}Clim-Warn Early warning platform - UNEP{% endblock title %}
{% block extra_head %}
<link rel="stylesheet" href="http://openlayers.org/en/v3.0.0/css/ol.css" type="text/css">
<script src="http://openlayers.org/en/v3.0.0/build/ol.js" type="text/javascript"></script>
<script type='text/javascript'>
    var first_map, second_map, third_map 

    function init(){
    first_map = new ol.Map({
        target:'map',
        view: new ol.View({
            projection: 'EPSG:900913',
            center:[3783258, 7880],
            zoom:13
        })
    });
    var newLayer = new ol.layer.Tile({
        source: new ol.source.OSM()
    });

    var wmsLayer = new ol.layer.Image({
        source: new ol.source.ImageWMS({
            url: 'http://maps.virtualkenya.org/geoserver/wms',
            params: {'LAYERS': 'geonode:flood_homes'},
            serverType: 'geoserver' })
    });

    second_map = new ol.Map({
        target:'map_2'
    });
    
    var wmsLayer2 = new ol.layer.Image({
        source: new ol.source.ImageWMS({
            url: 'http://maps.virtualkenya.org/geoserver/wms',
            params: {'LAYERS': 'geonode:depth3shape'},
            serverType: 'geoserver' })
    });
    second_map.bindTo('view', first_map);

    third_map = new ol.Map({
        target:'map_3'
    });
    var wmsLayer3 = new ol.layer.Image({
        source: new ol.source.ImageWMS({
            url: 'http://maps.virtualkenya.org/geoserver/wms',
            params: {'LAYERS': 'geonode:_3mdepth'},
            serverType: 'geoserver' })
    });
    third_map.bindTo('view', first_map);

    first_map.addLayer(newLayer);
    first_map.addLayer(wmsLayer);
    second_map.addLayer(newLayer);
    second_map.addLayer(wmsLayer2);
    third_map.addLayer(newLayer);
    third_map.addLayer(wmsLayer3);

    first_map_dup = new ol.Map({
        target:'map_dup'
    });
    first_map_dup.bindTo('layergroup', first_map);
    first_map_dup.bindTo('view', first_map);

    second_map_dup = new ol.Map({
        target:'map_2_dup'
    });
    second_map_dup.bindTo('layergroup', second_map);
    second_map_dup.bindTo('view', first_map);

    third_map_dup = new ol.Map({
        target:'map_3_dup'
    });
    third_map_dup.bindTo('layergroup', third_map);
    third_map_dup.bindTo('view', first_map);
}
</script>
<style>
    .vcenter {
        display: inline-block;
        vertical-align: middle;
        float: none;
    }

    .placeholder {
        width:100%;
        height: 100%;
        
    }

    .column {
        width:32.5%;
        padding:5px;
        float:left;
    }

    .column img {
        width:100%;
        height:98%;
    }
</style>
{% endblock extra_head %}

{% block main_content %}
 <div class="container">
 	<div class="row">
 		<div class="col-xs-4 vcenter">
 			<h3>Drought Early Warning Platform</h3>
 		</div>
 		<div class="col-xs-4 vcenter">
 			<form class="form-horizontal">
 				<div class="form-group">
 					<select id="location" class="form-control">
 						<option>Turkana</option>
 					</select>
 				</div>
 			</form>
 		</div>
 		<div class="col-xs-4 vcenter">
 		</div>
 	</div>
 	<div class="row">
 		<div role="tabpanel">
 			<ul class="nav nav-tabs" role="tablist">
 				<li role="presentation" class="active"><a href="#today" aria-controls="today" role="tab" data-toggle="tab">Today</a></li>
 				<li role="presentation" ><a href="#datespecific" aria-controls="datespecific" role="tab" data-toggle="tab">Specific Date</a></li>
 				<li role="presentation"><a href="#animation" aria-controls="animation" role="tab" data-toggle="tab">Animation</a></li>
 			</ul>
 			<div class="tab-content">
 				<div role="tabpanel" class="tab-pane active" id="today">
                    <div class="placeholder" align='center'>
                        <div id="map" class="column">
                            <h4>Drought severity</h4>
                        </div>
                        <div id="map_2" class="column">
                            <h4>Vulnerability</h4>
                        </div>
                        <div id="map_3" class="column">
                            <h4>Drought risk</h4>
                        </div>
                    </div>
                </div>
 				<div role="tabpanel" class="tab-pane fade" id="datespecific">
 					<div class="placeholder" align='center'>
                        <div id="map_dup" class="column">
                            <h4>Drought severity</h4>
                        </div>
                        <div id="map_2_dup" class="column">
                            <h4>Vulnerability</h4>
                        </div>
                        <div id="map_3_dup" class="column">
                            <h4>Drought risk</h4>
                        </div>
                    </div>
 				</div>
 				<div role="tabpanel" class="tab-pane fade" id="animation">
 					animation tab
 				</div>
 			</div> 			
 		</div>
 	</div>
 </div>
{% endblock main_content %}
